{% extends "base.html" %}

{% block title %}{{ note.title }} - VulnerableNotes{% endblock %}

{% block content %}

<div class="max-w-3xl mx-auto bg-gray-800 rounded-lg shadow-lg">

    <div class="flex justify-between items-center border-b border-gray-700 pb-4 mb-6 p-6">
        <h1 class="text-3xl font-bold">{{ note.title }}</h1>

        {% if note.is_private %}
        <span class="bg-red-500 text-white text-xs px-3 py-1 rounded-full">Private</span>
        {% else %}
        <span class="bg-green-500 text-white text-xs px-3 py-1 rounded-full">Public</span>
        {% endif %}
    </div>

    <div class="px-6 py-3 text-gray-300 whitespace-pre-wrap">
        <p>{{ note.content }}</p>
    </div>

    {% if files %}
    <div class="border-t border-gray-700 pt-6 mt-6 bg-gray-750 p-6">
        <h3 class="text-xl font-semibold mb-4">Attached Files</h3>
        <ul class="space-y-2">
            {% for file in files %}
            <li>
                <a href="/static/uploads/{{ file.filepath.split('/')[-1] }}"
                download="{{file.filename}}" 
                class="text-blue-400 hover:text-blue-300 hover:underline">
                    üìé {{ file.filename }}
                </a>
            </li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
    <div class="p-6 border-t border-gray-700 flex justify-between items-center">
        <a href="/dashboard">‚Üê Back to Dashboard</a>
        <form method="POST" action="/note/{{ note.id }}/delete">
            <button type="submit">Delete Note</button>
        </form>
    </div>

</div>

{% endblock %}